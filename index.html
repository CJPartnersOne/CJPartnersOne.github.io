<!DOCTYPE html>
<html>
<head>
    <title>My Memo Page</title>
    <style>
        #memo {
            width: 100%;
            height: 200px;
        }
    </style>
</head>
<body>
    <h1>Welcome to My Memo Page</h1>
    <textarea id="memo" maxlength="10000" oninput="countCharacters()"></textarea>
    <p id="counter">0 / 10000</p>

    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
    <script>
        // Firebase 설정
        var firebaseConfig = {
            apiKey: "AIzaSyDqf1rVc-QjFtqrasowVpht0QGMS6aLYaA",
            authDomain: "sunghwa-177f7.firebaseapp.com",
            projectId: "sunghwa-177f7",
            storageBucket: "sunghwa-177f7.appspot.com",
            messagingSenderId: "468261826170",
            appId: "1:468261826170:web:7f6a2593e698b9d5b495c3"
        };
        // Firebase 초기화
        firebase.initializeApp(firebaseConfig);

        // 데이터베이스 참조 가져오기
        var db = firebase.database();

        // 메모장에 입력한 내용을 실시간으로 저장
        var memo = document.getElementById('memo');
        memo.addEventListener('input', function() {
            db.ref('memo/').set({
                content: memo.value
            });
        });

        // 페이지 로드 시 저장된 메모 불러오기
        window.onload = function() {
            db.ref('/memo/').once('value').then(function(snapshot) {
                var content = (snapshot.val() && snapshot.val().content) || '';
                memo.value = content;
                countCharacters();
            });
        };

        // 글자 수 세기
        function countCharacters() {
            var counter = document.getElementById('counter');
            counter.textContent = memo.value.length + ' / 10000';
        }
    </script>
</body>
</html>
